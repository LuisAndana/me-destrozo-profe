import{a as pe}from"./chunk-YEGIKRE6.js";import{a as se}from"./chunk-22QT5PNS.js";import"./chunk-XBRAPING.js";import{a as Q,b as ne,d as oe,e as b,f as re,g as ae,h as T,i as ie,j as le}from"./chunk-XCTHI3QZ.js";import{$ as c,Db as W,Gb as J,La as P,P as G,Pa as O,T as $,U as f,Wa as h,Xa as r,Ya as i,Za as p,aa as d,ac as w,eb as u,fc as K,ga as M,gc as y,l as j,nb as Y,nc as Z,pb as s,pc as k,qb as v,qc as S,rc as ee,sc as te,ta as H,va as X,w as D,wa as g,x as B,xb as q}from"./chunk-VJI5GMUY.js";import{a as N,b as V}from"./chunk-FDERIQAA.js";var ue=["gym_token","token"],me=["gym_user","usuario"],fe=n=>(n??"").toLowerCase().trim();function R(n){let e=fe(n);return e?{alumno:"cliente",empleado:"cliente",user:"cliente",cliente:"cliente",coach:"entrenador",trainer:"entrenador",entrenador:"entrenador"}[e]??e:""}function I(){for(let n of ue){let e=(localStorage.getItem(n)||"").trim();if(e)return e}return""}function ce(){for(let n of me)try{let e=localStorage.getItem(n);if(e)return JSON.parse(e)}catch{}return null}var m=(n,e)=>{let t=f(b);return I()?!0:t.createUrlTree(["/login"],{queryParams:{r:e.url}})},z=n=>(e,t)=>{let o=f(b);if(!I())return o.createUrlTree(["/login"],{queryParams:{r:t.url}});let a=ce(),l=R(a?.rol),x=R(n);return l&&x&&l===x?!0:l==="entrenador"?o.createUrlTree(["/pagina-principal-entrenador"]):l==="cliente"?o.createUrlTree(["/cliente"]):o.createUrlTree(["/login"],{queryParams:{r:t.url}})},de=(n,e)=>{let t=f(b);if(!I())return t.createUrlTree(["/login"],{queryParams:{r:e.url}});let o=ce();return R(o?.rol)==="entrenador"?t.createUrlTree(["/entrenador/perfil"]):!0};var A=[{path:"",pathMatch:"full",redirectTo:"bienvenida"},{path:"bienvenida",loadComponent:()=>import("./chunk-BNN4PJL6.js").then(n=>n.Bienvenida)},{path:"login",loadComponent:()=>import("./chunk-I6N45ZIH.js").then(n=>n.Login)},{path:"registro",loadComponent:()=>import("./chunk-52QK2NEA.js").then(n=>n.RegisterComponent)},{path:"verify-email",loadComponent:()=>import("./chunk-WXSRTS3Z.js").then(n=>n.VerifyEmailComponent)},{path:"perfil",canActivate:[m,de],loadComponent:()=>import("./chunk-OZIIAYTO.js").then(n=>n.PerfilComponent)},{path:"cliente",canActivate:[m,z("cliente")],loadComponent:()=>import("./chunk-CQLHA2CJ.js").then(n=>n.PaginaPrincipalCliente)},{path:"rutina",canActivate:[m],loadComponent:()=>import("./chunk-ABRHF3FX.js").then(n=>n.RutinaComponent)},{path:"entrenador",canActivate:[m,z("entrenador")],children:[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",loadComponent:()=>import("./chunk-RKYXNRZO.js").then(n=>n.PaginaPrincipalEntrenador)},{path:"perfil",loadComponent:()=>import("./chunk-OGKY5YZD.js").then(n=>n.PerfilEntrenadorPage)},{path:"mis-clientes",loadComponent:()=>import("./chunk-U4ZWBEO7.js").then(n=>n.MisClientesComponent)},{path:"generar-rutina/:id",loadComponent:()=>import("./chunk-OIQ2RFJ2.js").then(n=>n.GenerarRutinaComponent)},{path:"resenas",loadComponent:()=>import("./chunk-4WF2F7E2.js").then(n=>n.ResenasEntrenadorComponent)}]},{path:"pagina-principal-entrenador",pathMatch:"full",redirectTo:"entrenador/home"},{path:"entrenadores",loadComponent:()=>import("./chunk-H2KG2QFM.js").then(n=>n.EntrenadoresPage)},{path:"entrenadores/:id",loadComponent:()=>import("./chunk-4OJ2ETWM.js").then(n=>n.DetalleEntrenadorPage)},{path:"pago/:id",canActivate:[m],loadComponent:()=>import("./chunk-GR7T62ZI.js").then(n=>n.ProcesoPagoPage)},{path:"progresion-cliente/:id",loadComponent:()=>import("./chunk-7A4U7TYB.js").then(n=>n.ProgresoClienteComponent)},{path:"mensajes",canActivate:[m],loadComponent:()=>import("./chunk-TUJARI5F.js").then(n=>n.ConversacionesComponent)},{path:"mensajes/chat/:id",canActivate:[m],loadComponent:()=>import("./chunk-EWSX7UQ5.js").then(n=>n.ChatComponent)},{path:"mensajes/nueva",canActivate:[m],loadComponent:()=>import("./chunk-LFODSEHR.js").then(n=>n.NuevaConversacionComponent)},{path:"**",redirectTo:"login"}];var _=class n{constructor(e){this.auth=e}API_WHITELIST=["http://localhost:4000","http://127.0.0.1:4000","http://localhost:8000","http://127.0.0.1:8000",typeof window<"u"?window.location.origin:""];isApiUrl(e){if(!/^https?:\/\//i.test(e))return!0;try{let t=new URL(e);return this.API_WHITELIST.some(o=>{if(!o)return!1;let a=new URL(o);return t.origin===a.origin})}catch{return!1}}isAuthEndpoint(e){let t=e.url.replace(/\/+$/,""),o=e.method.toUpperCase(),a=/\/usuarios\/login$/.test(t)&&o==="POST",l=(/\/usuarios\/register$/.test(t)||/\/usuarios$/.test(t))&&o==="POST",x=/\/usuarios\/refresh$/.test(t)&&o==="POST";return a||l||x}resolveEntrenadorId(){let e=localStorage.getItem("id_entrenador")||"",t=parseInt(e,10);if(t>0)return t;try{let o=JSON.parse(localStorage.getItem("usuario")||"null");if(o?.id&&(o.rol==="entrenador"||o.rol==="trainer"))return Number(o.id)||0}catch{}return 0}rewriteClienteEntrenadorUrls(e){let[t,...o]=e.url.split("?"),a=t.replace(/\/+$/,""),l=o.length?"?"+o.join("?"):"";if(/\/(api\/)?cliente-entrenador\/mis-clientes$/i.test(a)){let C=this.resolveEntrenadorId();if(C>0){let F=`${a}/${C}${l}`;return console.warn("[AuthInterceptor:rewrite] \u{1F527} Reescrito:",e.url,"\u2192",F),e.clone({url:F})}else console.error("[AuthInterceptor:rewrite] \u274C No se pudo resolver id_entrenador. URL no reescrita:",e.url)}return e}intercept(e,t){if(e.url.includes("/api/ia/"))return t.handle(e);let o=e.headers.has("X-Skip-Auth"),a=o?e.clone({headers:e.headers.delete("X-Skip-Auth")}):e;a=this.rewriteClienteEntrenadorUrls(a);let l=this.auth.getToken?.()||localStorage.getItem("access_token")||sessionStorage.getItem("access_token");return!!l&&!o&&a.method!=="OPTIONS"&&this.isApiUrl(a.url)&&!this.isAuthEndpoint(a)&&(a=a.clone({setHeaders:{Authorization:`Bearer ${l}`}})),t.handle(a).pipe(B(C=>(C instanceof Z&&C.status===401&&console.warn("[AuthInterceptor] 401 en",a.method,a.url),j(()=>C))))}static \u0275fac=function(t){return new(t||n)($(se))};static \u0275prov=G({token:n,factory:n.\u0275fac})};function xe(n,e){n&1&&(r(0,"nav",32)(1,"a",33),c(),r(2,"svg",34),p(3,"path",35)(4,"polyline",36),i(),d(),r(5,"span"),s(6,"Inicio"),i()(),r(7,"a",37),c(),r(8,"svg",34),p(9,"path",38)(10,"circle",39)(11,"path",40)(12,"path",41),i(),d(),r(13,"span"),s(14,"Mis clientes"),i()(),r(15,"a",42),c(),r(16,"svg",34),p(17,"path",43),i(),d(),r(18,"span"),s(19,"Mensajes"),i()(),r(20,"a",44),c(),r(21,"svg",34),p(22,"polygon",45),i(),d(),r(23,"span"),s(24,"Rese\xF1as"),i()()())}function Ce(n,e){n&1&&(r(0,"nav",32)(1,"a",46),c(),r(2,"svg",34),p(3,"path",35)(4,"polyline",36),i(),d(),r(5,"span"),s(6,"Inicio"),i()(),r(7,"a",47),c(),r(8,"svg",34),p(9,"circle",48)(10,"circle",49)(11,"circle",50)(12,"path",51)(13,"path",52)(14,"path",53),i(),d(),r(15,"span"),s(16,"Rutina"),i()(),r(17,"a",42),c(),r(18,"svg",34),p(19,"path",43),i(),d(),r(20,"span"),s(21,"Mensajes"),i()(),r(22,"a",54),c(),r(23,"svg",34),p(24,"path",38)(25,"circle",39)(26,"path",40)(27,"path",41),i(),d(),r(28,"span"),s(29,"Entrenadores"),i()()())}var E=class n{router=f(b);collapsed=M(!1);showLogoutModal=M(!1);userNombre="Usuario";userRol="Usuario";fotoUrlCruda=null;DEFAULT_AVATAR="data:image/svg+xml;utf8,"+encodeURIComponent(`
      <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96">
        <defs>
          <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#41b883"/>
            <stop offset="1" stop-color="#5fd3a8"/>
          </linearGradient>
        </defs>
        <rect width="96" height="96" rx="16" fill="#0b111a"/>
        <circle cx="48" cy="38" r="18" fill="url(#g)"/>
        <rect x="18" y="60" width="60" height="22" rx="11" fill="url(#g)" opacity="0.7"/>
      </svg>
    `);currentFotoUrl=this.DEFAULT_AVATAR;fallbackApplied=!1;touchStartX=0;touchStartY=0;swiping=!1;ngOnInit(){document.body.classList.add("has-topbar"),this.updateTopbarVar(),localStorage.getItem("sidebar_collapsed")==="1"&&this.collapsed.set(!0),this.applyBodyClasses();try{let t=JSON.parse(localStorage.getItem("usuario")||"{}");this.userNombre=[t?.nombre,t?.apellido].filter(Boolean).join(" ").trim()||t?.nombre||"Usuario",this.userRol=t?.rol||"Usuario";let o=(t?.foto_url||t?.fotoUrl||"").toString().trim();this.fotoUrlCruda=o||null,this.fotoUrlCruda?this.currentFotoUrl=this.fotoUrlCruda:this.currentFotoUrl=this.DEFAULT_AVATAR}catch(t){console.warn("\u26A0\uFE0F Error al cargar usuario:",t),this.currentFotoUrl=this.DEFAULT_AVATAR}}ngOnDestroy(){document.body.classList.remove("has-topbar")}updateTopbarVar(){requestAnimationFrame(()=>{let e=document.querySelector("header.topbar-glass");if(e){let t=e.offsetHeight;document.documentElement.style.setProperty("--topbar-h",`${t}px`)}})}onResize(){this.updateTopbarVar()}onImgError(e){if(this.fallbackApplied)return;this.fallbackApplied=!0;let t=e.target;t.src=this.DEFAULT_AVATAR,this.currentFotoUrl=this.DEFAULT_AVATAR}toggleSidebar(){let e=!this.collapsed();this.collapsed.set(e),localStorage.setItem("sidebar_collapsed",e?"1":"0"),this.applyBodyClasses()}applyBodyClasses(){document.body.classList.add("has-sidebar"),this.collapsed()?document.body.classList.add("sidebar-compact"):document.body.classList.remove("sidebar-compact")}goToProfile(){let e=(this.userRol||"").toLowerCase(),t="/perfil";e.includes("entrenador")&&(t="/entrenador/perfil"),this.router.navigate([t])}goHome(){let e=(this.userRol||"").toLowerCase(),t="/cliente";e.includes("entrenador")&&(t="/entrenador/home"),this.router.navigate([t])}openLogoutModal(){console.log("\u{1F7E6} [Modal] Abriendo modal de logout..."),this.showLogoutModal.set(!0)}confirmLogout(){console.log("\u{1F7E6} [LOGOUT] Cerrando sesi\xF3n..."),localStorage.removeItem("token"),localStorage.removeItem("gym_token"),localStorage.removeItem("usuario"),localStorage.removeItem("gym_user"),this.showLogoutModal.set(!1),this.router.navigate(["/bienvenida"],{replaceUrl:!0})}cancelLogout(){console.log("\u{1F7E6} [Modal] Cerrando modal de logout..."),this.showLogoutModal.set(!1)}onTouchStart(e){if(!e.touches||e.touches.length!==1)return;let t=e.touches[0];this.touchStartX=t.clientX,this.touchStartY=t.clientY,this.swiping=this.touchStartX<30||!this.collapsed()}onTouchMove(e){if(!this.swiping)return;let t=e.touches[0],o=Math.abs(t.clientX-this.touchStartX),a=Math.abs(t.clientY-this.touchStartY);o>12&&a<20&&e.preventDefault()}onTouchEnd(e){if(!this.swiping)return;let t=e.changedTouches?.[0];if(!t)return;let o=t.clientX-this.touchStartX;!this.collapsed()&&o<-50&&this.toggleSidebar(),this.collapsed()&&this.touchStartX<30&&o>50&&this.toggleSidebar(),this.swiping=!1}goToNuevaConversacion(){this.router.navigate(["/mensajes/nueva"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=P({type:n,selectors:[["app-header-menu"]],hostBindings:function(t,o){t&1&&u("resize",function(){return o.onResize()},X)("touchstart",function(l){return o.onTouchStart(l)})("touchmove",function(l){return o.onTouchMove(l)})("touchend",function(l){return o.onTouchEnd(l)})},decls:42,vars:15,consts:[[1,"topbar-glass"],[1,"topbar-inner"],["type","button","aria-label","Alternar men\xFA de navegaci\xF3n","aria-expanded","!collapsed()",1,"hamburger",3,"click"],["width","22","height","22","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2.5","stroke-linecap","round"],["x1","3","y1","6","x2","21","y2","6"],["x1","3","y1","12","x2","21","y2","12"],["x1","3","y1","18","x2","21","y2","18"],[1,"topbar-logo",3,"click"],[1,"topbar-logo-text"],[1,"topbar-brand"],[1,"topbar-tagline"],[1,"topbar-spacer"],["type","button","aria-label","Ir a mi perfil",1,"topbar-profile",3,"click"],["width","38","height","38","alt","Foto de perfil","loading","lazy",3,"error","src"],[1,"topbar-user-info"],[1,"topbar-user-name"],[1,"topbar-user-role"],[1,"sidebar-glass"],["type","button","aria-label","Ir a mi perfil",1,"user-card",3,"click"],[1,"avatar"],["alt","Foto de perfil","loading","lazy",3,"error","src"],[1,"user-meta"],[1,"name","ellipsis"],[1,"role"],["class","nav","role","navigation","aria-label","Men\xFA principal",4,"ngIf"],[1,"sidebar-footer"],["type","button","role","menuitem","aria-label","Cerrar sesi\xF3n",1,"btn-logout",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"],["points","16 17 21 12 16 7"],["x1","21","y1","12","x2","9","y2","12"],[3,"confirmed","cancelled","isOpen"],["role","navigation","aria-label","Men\xFA principal",1,"nav"],["routerLink","/entrenador/home","routerLinkActive","active","role","menuitem"],["width","22","height","22","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"],["points","9 22 9 12 15 12 15 22"],["routerLink","/entrenador/mis-clientes","routerLinkActive","active","role","menuitem"],["d","M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["d","M23 21v-2a4 4 0 0 0-3-3.87"],["d","M16 3.13a4 4 0 0 1 0 7.75"],["routerLink","/mensajes","routerLinkActive","active","role","menuitem"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"],["routerLink","/entrenador/resenas","routerLinkActive","active","role","menuitem"],["points","12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"],["routerLink","/cliente","routerLinkActive","active","role","menuitem"],["routerLink","/rutina","routerLinkActive","active","role","menuitem"],["cx","12","cy","12","r","1"],["cx","12","cy","5","r","1"],["cx","12","cy","19","r","1"],["d","M6.3 9a9 9 0 0 1 11.4 0"],["d","M6 13.5a4.5 4.5 0 0 1 12 0"],["d","M5.64 18.64a9 9 0 0 1 12.72 0"],["routerLink","/entrenadores","routerLinkActive","active","role","menuitem"]],template:function(t,o){t&1&&(r(0,"header",0)(1,"div",1)(2,"button",2),u("click",function(){return o.toggleSidebar()}),c(),r(3,"svg",3),p(4,"line",4)(5,"line",5)(6,"line",6),i()(),d(),r(7,"div",7),u("click",function(){return o.goHome()}),r(8,"div",8)(9,"div",9),s(10,"FITMAN"),i(),r(11,"div",10),s(12,"Pro Fitness"),i()()(),p(13,"div",11),r(14,"button",12),u("click",function(){return o.goToProfile()}),r(15,"img",13),u("error",function(l){return o.onImgError(l)}),i(),r(16,"div",14)(17,"span",15),s(18),i(),r(19,"span",16),s(20),W(21,"slice"),i()()()()(),r(22,"aside",17)(23,"button",18),u("click",function(){return o.goToProfile()}),r(24,"div",19)(25,"img",20),u("error",function(l){return o.onImgError(l)}),i()(),r(26,"div",21)(27,"div",22),s(28),i(),r(29,"div",23),s(30),i()()(),O(31,xe,25,0,"nav",24)(32,Ce,30,0,"nav",24),r(33,"div",25)(34,"button",26),u("click",function(){return o.openLogoutModal()}),c(),r(35,"svg",27),p(36,"path",28)(37,"polyline",29)(38,"line",30),i(),d(),r(39,"span"),s(40,"Salir"),i()()()(),r(41,"app-confirm-logout-modal",31),u("confirmed",function(){return o.confirmLogout()})("cancelled",function(){return o.cancelLogout()}),i()),t&2&&(g(15),h("src",o.currentFotoUrl,H),g(3),v(o.userNombre),g(2),v(J(21,11,o.userRol,0,8)),g(2),Y("compact",o.collapsed()),g(3),h("src",o.currentFotoUrl,H),g(3),v(o.userNombre),g(2),v(o.userRol),g(),h("ngIf",o.userRol.toLowerCase().includes("entrenador")),g(),h("ngIf",!o.userRol.toLowerCase().includes("entrenador")),g(9),h("isOpen",o.showLogoutModal()))},dependencies:[y,w,le,re,ae,pe,K],styles:['.topbar-glass[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;height:var(--topbar-h, 65px);-webkit-backdrop-filter:blur(25px);backdrop-filter:blur(25px);background:linear-gradient(135deg,#05080cf5,#0a0f19ed 40%,#080c12f5);border-bottom:3px solid;border-image:linear-gradient(90deg,#3b82f666,#3b82f626,#3b82f666) 1;box-shadow:0 8px 32px #00000080,0 0 30px #3b82f614,inset 0 1px 1px #ffffff1a;z-index:50}.topbar-inner[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;gap:18px;padding:0 18px;max-width:100%}.hamburger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f61f,#3b82f60d);border:2px solid rgba(59,130,246,.35);cursor:pointer;padding:10px;color:#3b82f6;border-radius:12px;transition:all .35s cubic-bezier(.34,1.56,.64,1);display:flex;align-items:center;justify-content:center;font-size:22px;flex-shrink:0;position:relative;overflow:hidden}.hamburger[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:#3b82f626;transition:left .3s ease;z-index:-1}.hamburger[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f633,#3b82f61a);border-color:#3b82f6;transform:scale(1.08);box-shadow:0 0 20px #3b82f666,inset 0 0 20px #3b82f61a}.hamburger[_ngcontent-%COMP%]:hover:before{left:0}.hamburger[_ngcontent-%COMP%]:active{transform:scale(.92)}.topbar-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;text-decoration:none;cursor:pointer;transition:all .3s ease}.topbar-logo[_ngcontent-%COMP%]:before{content:"\\1f4aa";font-size:24px;animation:_ngcontent-%COMP%_pulse-icon 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse-icon{0%,to{transform:scale(1)}50%{transform:scale(1.08)}}.topbar-logo-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0}.topbar-brand[_ngcontent-%COMP%]{font-weight:800;font-size:16px;letter-spacing:.8px;background:linear-gradient(135deg,#3b82f6,#60a5fa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-transform:uppercase;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;text-shadow:0 2px 8px rgba(59,130,246,.3)}.topbar-tagline[_ngcontent-%COMP%]{font-size:10px;color:#9db2d1;letter-spacing:.5px;text-transform:uppercase;opacity:.8}.topbar-logo[_ngcontent-%COMP%]:hover   .topbar-brand[_ngcontent-%COMP%]{background:linear-gradient(135deg,#60a5fa,#3b82f6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;filter:drop-shadow(0 0 10px rgba(59,130,246,.4))}.topbar-spacer[_ngcontent-%COMP%]{flex:1}.topbar-profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;background:linear-gradient(135deg,#3b82f626,#3b82f614);border:1.5px solid rgba(59,130,246,.3);color:#e6ebf5;cursor:pointer;padding:6px 12px 6px 6px;border-radius:16px;transition:all .35s cubic-bezier(.34,1.56,.64,1);flex-shrink:0;position:relative;overflow:visible;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.topbar-profile[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;right:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(59,130,246,.2),transparent);transition:right .5s ease}.topbar-profile[_ngcontent-%COMP%]:hover:before{right:100%}.topbar-profile[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f640,#3b82f626);border-color:#3b82f699;box-shadow:0 0 35px #3b82f666,inset 0 1px 1px #fff3;transform:translateY(-4px) scale(1.05)}.topbar-profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:14px;border:3px solid #3b82f6;width:38px;height:38px;object-fit:cover;transition:all .35s cubic-bezier(.34,1.56,.64,1);box-shadow:0 0 0 1px #3b82f64d,0 4px 20px #3b82f666,inset 0 0 15px #3b82f633;position:relative;z-index:2;flex-shrink:0}.topbar-profile[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border-color:#60a5fa;box-shadow:0 0 0 2px #3b82f680,0 0 40px #3b82f6cc,0 8px 25px #3b82f666,inset 0 0 20px #3b82f64d;transform:scale(1.15) rotate(2deg);filter:drop-shadow(0 0 12px rgba(59,130,246,.6)) brightness(1.1)}.topbar-user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3px}.topbar-user-name[_ngcontent-%COMP%]{font-weight:700;font-size:12px;color:#e6ebf5;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;background:linear-gradient(135deg,#e6ebf5,#b8c5d6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.topbar-user-role[_ngcontent-%COMP%]{font-size:9px;color:#3b82f6;font-weight:700;letter-spacing:.4px;text-transform:uppercase;text-shadow:0 0 8px rgba(59,130,246,.3)}.ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:500;font-size:14px}.sidebar-glass[_ngcontent-%COMP%]{position:fixed;top:var(--topbar-h, 80px);left:0;bottom:0;width:var(--sidebar-w, 300px);background:linear-gradient(180deg,#080a10fa,#0a0d14f2,#080a10fa);border-right:2px solid rgba(59,130,246,.15);overflow:hidden;transform:translate(0);transition:transform .35s cubic-bezier(.34,1.56,.64,1),width .35s ease;z-index:40;box-shadow:4px 0 30px #0009,inset -1px 0 1px #3b82f61a;display:flex;flex-direction:column;padding:0;margin:0}.sidebar-glass.compact[_ngcontent-%COMP%]{transform:translate(calc(-1 * var(--sidebar-w, 300px)))}.user-card[_ngcontent-%COMP%]{display:flex;gap:14px;align-items:center;background:linear-gradient(135deg,#3b82f626,#3b82f614);border:1px solid rgba(59,130,246,.2);color:#e6ebf5;width:calc(100% - 28px);text-align:left;cursor:pointer;padding:18px 14px;margin:16px 14px 0;border-radius:16px;transition:all .35s cubic-bezier(.34,1.56,.64,1);position:relative;overflow:hidden;flex-shrink:0;border:none}.user-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(59,130,246,.15) 0%,transparent 70%);transition:all .6s ease;opacity:0}.user-card[_ngcontent-%COMP%]:hover:before{opacity:1;top:-25%;left:-25%}.user-card[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f640,#3b82f626);border-color:#3b82f666;box-shadow:0 0 30px #3b82f64d,inset 0 1px 1px #ffffff26;transform:translate(8px)}.user-card[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:14px;overflow:hidden;background:linear-gradient(135deg,#1e283ce6,#141e32e6);display:grid;place-items:center;border:2px solid rgba(59,130,246,.4);flex-shrink:0;transition:all .35s cubic-bezier(.34,1.56,.64,1);position:relative;z-index:1;box-shadow:0 4px 16px #3b82f633}.user-card[_ngcontent-%COMP%]:hover   .avatar[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 25px #3b82f699,inset 0 0 12px #3b82f640;transform:scale(1.1)}.user-card[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.user-card[_ngcontent-%COMP%]   .user-meta[_ngcontent-%COMP%]{flex:1;min-width:0;position:relative;z-index:1}.user-card[_ngcontent-%COMP%]   .user-meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:700;color:#e6ebf5;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;letter-spacing:.2px}.user-card[_ngcontent-%COMP%]   .user-meta[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{color:#3b82f6;font-size:11px;margin-top:4px;font-weight:600;text-transform:uppercase;letter-spacing:.4px}.nav[_ngcontent-%COMP%]{padding:20px 12px;flex:1 1 auto;overflow-y:auto;overflow-x:hidden;scroll-behavior:smooth;min-height:0}.nav[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.nav[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#3b82f608;border-radius:10px}.nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#3b82f633;border-radius:10px;transition:background .3s ease}.nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#3b82f659}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;color:#b8c5d6;text-decoration:none;padding:14px 16px;border-radius:14px;transition:all .3s cubic-bezier(.34,1.56,.64,1);border-left:3px solid transparent;position:relative;margin:8px 0;font-weight:500;font-size:14px;letter-spacing:.3px}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:3px;background:linear-gradient(180deg,#3b82f6,#60a5fa);border-radius:0 3px 3px 0;opacity:0;transition:opacity .3s ease,width .3s ease}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,rgba(59,130,246,.05) 0%,transparent 100%);border-radius:14px;opacity:0;transition:opacity .3s ease}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#3b82f61a;color:#d8e5f3;border-left-color:#3b82f680;transform:translate(6px)}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{opacity:1}.nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f640,#3b82f614);color:#3b82f6;border-left-color:#3b82f6;font-weight:700;box-shadow:0 0 20px #3b82f640,inset 0 1px 1px #3b82f633}.nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:before, .nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{opacity:1}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;flex-shrink:0;color:inherit;transition:all .3s ease}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.15)}.nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3b82f6;text-shadow:0 0 8px rgba(59,130,246,.4)}.sidebar-footer[_ngcontent-%COMP%]{flex-shrink:0;padding:16px 12px;border-top:1px solid rgba(59,130,246,.12);display:flex;flex-direction:column;gap:8px;background:linear-gradient(180deg,#080a1000,#080a1080)}.btn-logout[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;width:100%;padding:13px 16px;border-radius:14px;background:linear-gradient(135deg,#ff505033,#ff50501a);border:1px solid rgba(255,80,80,.3);color:#e6ebf5;text-decoration:none;cursor:pointer;transition:all .35s cubic-bezier(.34,1.56,.64,1);font-weight:600;position:relative;overflow:hidden;box-sizing:border-box;font-size:14px;letter-spacing:.3px}.btn-logout[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:#ff505040;transition:left .4s ease;z-index:-1;border-radius:14px}.btn-logout[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ff505059,#ff505033);border-color:#ff505080;color:#ff6b6b;transform:translateY(-3px);box-shadow:0 0 25px #ff505059,0 6px 16px #0000004d}.btn-logout[_ngcontent-%COMP%]:hover:before{left:0}@media (max-width: 1024px){.topbar-inner[_ngcontent-%COMP%]{gap:16px;padding:0 16px}.topbar-profile[_ngcontent-%COMP%]{padding:6px;gap:10px}.topbar-profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px}.topbar-user-info[_ngcontent-%COMP%]{display:none}.hamburger[_ngcontent-%COMP%]{padding:8px}.topbar-profile[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.08)}.sidebar-glass[_ngcontent-%COMP%]{width:var(--sidebar-w, 280px)}}@media (max-width: 768px){.topbar-glass[_ngcontent-%COMP%]{height:var(--topbar-h, 72px)}.topbar-inner[_ngcontent-%COMP%]{gap:12px}.topbar-logo[_ngcontent-%COMP%]:before{font-size:24px}.topbar-brand[_ngcontent-%COMP%]{font-size:16px}.topbar-profile[_ngcontent-%COMP%]{padding:6px 8px;border-radius:14px}.topbar-profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:2.5px solid #3b82f6}.topbar-profile[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.12) rotate(2deg)}.sidebar-glass[_ngcontent-%COMP%]{top:var(--topbar-h, 72px);width:var(--sidebar-w, 260px)}}@media (max-width: 480px){.topbar-glass[_ngcontent-%COMP%]{height:var(--topbar-h, 64px)}.hamburger[_ngcontent-%COMP%]{padding:6px;font-size:20px}.topbar-logo[_ngcontent-%COMP%]:before{font-size:20px}.topbar-brand[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.5px}.topbar-tagline[_ngcontent-%COMP%]{display:none}.topbar-profile[_ngcontent-%COMP%]{padding:4px;border-radius:12px}.topbar-profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:10px;border:2px solid #3b82f6}.topbar-profile[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.06)}.topbar-profile[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1) rotate(1deg)}.user-card[_ngcontent-%COMP%]{padding:14px 12px;margin:12px 10px 0;width:calc(100% - 20px)}.user-card[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:44px;height:44px}.nav[_ngcontent-%COMP%]{padding:16px 10px}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:12px 14px;gap:12px;font-size:13px}.nav[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px;height:20px}.sidebar-glass[_ngcontent-%COMP%]{width:var(--sidebar-w, 240px)}.sidebar-glass.compact[_ngcontent-%COMP%]{transform:translate(calc(-1 * var(--sidebar-w, 240px)))}.sidebar-footer[_ngcontent-%COMP%]{padding:12px 10px}.btn-logout[_ngcontent-%COMP%]{padding:11px 14px;font-size:13px}}']})};function _e(n,e){n&1&&p(0,"app-header-menu")}var L=class n{router=f(b);title=M("me-destrozo-profe");authRegex=/^\/(login|registro|register|bienvenida|verify-email)(\/)?$/i;noRecenterRegex=/^\/((entrenadores)(\/[\w-]+)?|(entrenador)(\/[\w-]+)?)\/?$/i;constructor(){this.router.events.pipe(D(e=>e instanceof ne)).subscribe(e=>this.applyBodyClasses(e.urlAfterRedirects||e.url||"")),this.applyBodyClasses(this.router.url||"")}applyBodyClasses(e){let t=this.authRegex.test(e),o=this.noRecenterRegex.test(e);document.body.classList.toggle("layout-auth",t),document.body.classList.toggle("layout-default",!t),document.body.classList.toggle("no-recenter",o)}headerMenuVisible(){let e=this.router.url||"";return!this.authRegex.test(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=P({type:n,selectors:[["app-root"]],features:[q([{provide:k,useClass:_,multi:!0}])],decls:4,vars:1,consts:[[4,"ngIf"],[1,"app-shell"],[1,"center-frame"]],template:function(t,o){t&1&&(O(0,_e,1,0,"app-header-menu",0),r(1,"div",1)(2,"div",2),p(3,"router-outlet"),i()()),t&2&&h("ngIf",o.headerMenuVisible())},dependencies:[y,w,oe,te,E],styles:["[_nghost-%COMP%] > *[_ngcontent-%COMP%]{float:none!important;position:relative;left:0!important;right:0!important}body.layout-default[_ngcontent-%COMP%]   .app-shell[_ngcontent-%COMP%]{min-height:100%}body.layout-default[_ngcontent-%COMP%]   .center-frame[_ngcontent-%COMP%]{width:min(1200px,100% - clamp(24px,6vw,64px));margin-inline:auto;transition:transform .25s ease;will-change:transform}@media (min-width: 1600px){body.layout-default[_ngcontent-%COMP%]   .center-frame[_ngcontent-%COMP%]{width:min(1320px,100% - clamp(24px,6vw,64px))}}.sidebar-glass[_ngcontent-%COMP%]{position:fixed;top:var(--topbar-h);left:0;bottom:0;width:var(--sidebar-w);transform:translate(-100%);transition:transform .3s ease;z-index:40}.sidebar-glass[_ngcontent-%COMP%]:not(.compact){transform:translate(0)}body.layout-default.menu-open[_ngcontent-%COMP%]:not(.no-recenter)   .center-frame[_ngcontent-%COMP%]{transform:translate(calc(var(--sidebar-w) / 2))}@media (max-width: 768px){body.layout-default.menu-open[_ngcontent-%COMP%]:not(.no-recenter)   .center-frame[_ngcontent-%COMP%]{transform:translate(calc(var(--sidebar-w) / 2))}}body.layout-default.has-sidebar[_ngcontent-%COMP%]   .center-frame[_ngcontent-%COMP%], body.layout-default.has-sidebar[_ngcontent-%COMP%]   main[_ngcontent-%COMP%], body.layout-default.has-sidebar[_ngcontent-%COMP%]   .page[_ngcontent-%COMP%], body.layout-default.has-sidebar[_ngcontent-%COMP%]   .page-wrap[_ngcontent-%COMP%]{margin-left:0!important}body.layout-default[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:inherit;margin-inline:0;padding-inline:0}body.layout-default.no-recenter[_ngcontent-%COMP%]   .center-frame[_ngcontent-%COMP%]{width:100%}body.layout-default.no-recenter[_ngcontent-%COMP%]   .center-frame[_ngcontent-%COMP%] > :where(main[_ngcontent-%COMP%], .page[_ngcontent-%COMP%], .content[_ngcontent-%COMP%], .page-wrap[_ngcontent-%COMP%], .container[_ngcontent-%COMP%], section[_ngcontent-%COMP%]){max-width:min(1280px,100% - clamp(24px,6vw,64px));margin-inline:auto!important}body.layout-default.no-recenter[_ngcontent-%COMP%]   .center-frame[_ngcontent-%COMP%] > :where(.grid[_ngcontent-%COMP%], .cards[_ngcontent-%COMP%], .list[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]){max-width:min(1280px,100% - clamp(24px,6vw,64px));margin-inline:auto!important}body.layout-default.no-recenter[_ngcontent-%COMP%]   .center-frame[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{float:none!important;left:0!important;right:0!important}@media (min-width: 1600px){body.layout-default.no-recenter[_ngcontent-%COMP%]   .center-frame[_ngcontent-%COMP%] > :where(main[_ngcontent-%COMP%], .page[_ngcontent-%COMP%], .content[_ngcontent-%COMP%], .page-wrap[_ngcontent-%COMP%], .container[_ngcontent-%COMP%], section[_ngcontent-%COMP%], .grid[_ngcontent-%COMP%], .cards[_ngcontent-%COMP%], .list[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]){max-width:min(1400px,100% - clamp(24px,6vw,72px))}}body.layout-default.no-recenter[_ngcontent-%COMP%]   .app-shell[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr}body.layout-default.no-recenter[_ngcontent-%COMP%]   .app-shell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(header):not(.topbar-glass):not(.sidebar-glass){max-width:min(1280px,100% - clamp(24px,6vw,64px));margin-inline:auto!important;width:100%;box-sizing:border-box}body.layout-default.no-recenter[_ngcontent-%COMP%]   .app-shell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(header):not(.topbar-glass):not(.sidebar-glass) > :where(main[_ngcontent-%COMP%], .page[_ngcontent-%COMP%], .content[_ngcontent-%COMP%], .page-wrap[_ngcontent-%COMP%], .container[_ngcontent-%COMP%], section[_ngcontent-%COMP%], .grid[_ngcontent-%COMP%], .cards[_ngcontent-%COMP%], .list[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]){max-width:min(1280px,100% - clamp(24px,6vw,64px));margin-inline:auto!important;width:100%;box-sizing:border-box}body.layout-default.no-recenter[_ngcontent-%COMP%]   .app-shell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(header):not(.topbar-glass):not(.sidebar-glass), body.layout-default.no-recenter[_ngcontent-%COMP%]   .app-shell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(header):not(.topbar-glass):not(.sidebar-glass) > :where(main[_ngcontent-%COMP%], .page[_ngcontent-%COMP%], .content[_ngcontent-%COMP%], .page-wrap[_ngcontent-%COMP%], .container[_ngcontent-%COMP%], section[_ngcontent-%COMP%], .grid[_ngcontent-%COMP%], .cards[_ngcontent-%COMP%], .list[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]){float:none!important;position:relative;left:0!important;right:0!important}@media (min-width: 1600px){body.layout-default.no-recenter[_ngcontent-%COMP%]   .app-shell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(header):not(.topbar-glass):not(.sidebar-glass), body.layout-default.no-recenter[_ngcontent-%COMP%]   .app-shell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(header):not(.topbar-glass):not(.sidebar-glass) > :where(main[_ngcontent-%COMP%], .page[_ngcontent-%COMP%], .content[_ngcontent-%COMP%], .page-wrap[_ngcontent-%COMP%], .container[_ngcontent-%COMP%], section[_ngcontent-%COMP%], .grid[_ngcontent-%COMP%], .cards[_ngcontent-%COMP%], .list[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]){max-width:min(1400px,100% - clamp(24px,6vw,72px))}}body.layout-default.no-recenter[_ngcontent-%COMP%]   .center-frame[_ngcontent-%COMP%], body.layout-default.menu-open.no-recenter[_ngcontent-%COMP%]   .center-frame[_ngcontent-%COMP%]{transform:none!important}"]})};var U={providers:[T(A),S(ee()),{provide:k,useClass:_,multi:!0}]};if(typeof window<"u"){let n=window.alert?.bind(window);window.__originalAlert=n,window.alert=e=>{let t=e==null?"":String(e);console.warn("[alert bloqueado]",t);try{document.dispatchEvent(new CustomEvent("app-alert",{detail:t}))}catch{}}}Q(L,V(N({},U),{providers:[...U.providers??[],T(A,ie()),S()]})).catch(n=>console.error(n));
