import{a as _}from"./chunk-XBRAPING.js";import{b as $,d as Z,e as J,f as K,g as X,h as ee,o as ie,p as re,q as te,t as ne,u as oe,v as ae,y as se}from"./chunk-T5YDL63U.js";import{e as Y}from"./chunk-XCTHI3QZ.js";import{Ab as S,Fa as D,Ga as T,Hb as k,La as L,Pa as f,Wa as m,Xa as a,Ya as o,Z as u,Za as M,_ as g,_b as q,ac as U,bb as A,ca as N,cb as F,db as B,eb as x,gb as c,gc as G,ib as W,jb as z,kb as O,lb as h,mb as j,nb as v,oc as H,pb as d,qb as R,rb as b,sc as Q,tb as E,ub as y,vb as C,wa as n}from"./chunk-VJI5GMUY.js";import"./chunk-FDERIQAA.js";var ce=["googleSignInBtn"],I=(t,i)=>({invalid:t,valid:i});function ue(t,i){if(t&1&&(a(0,"div",35),d(1),o()),t&2){let r=c();n(),b(" ",r.formErrors.general," ")}}function ge(t,i){if(t&1&&(a(0,"span"),d(1),o()),t&2){let r=c(2);n(),R(r.formErrors.nombre)}}function fe(t,i){t&1&&(a(0,"span"),d(1,"Ingresa tu nombre."),o())}function he(t,i){t&1&&(a(0,"span"),d(1,"Debe tener al menos 2 caracteres."),o())}function _e(t,i){if(t&1&&f(0,fe,2,0,"span",23)(1,he,2,0,"span",23),t&2){c(2);let r=h(11);m("ngIf",r.errors==null?null:r.errors.required),n(),m("ngIf",r.errors==null?null:r.errors.minlength)}}function be(t,i){if(t&1&&(a(0,"div",35),f(1,ge,2,1,"span",36)(2,_e,2,2,"ng-template",null,4,k),o()),t&2){let r=h(3),e=c();n(),m("ngIf",e.formErrors==null?null:e.formErrors.nombre)("ngIfElse",r)}}function ve(t,i){if(t&1&&(a(0,"span"),d(1),o()),t&2){let r=c(2);n(),R(r.formErrors.apellido)}}function we(t,i){t&1&&(a(0,"span"),d(1,"Ingresa tus apellidos."),o())}function Ee(t,i){t&1&&(a(0,"span"),d(1,"Debe tener al menos 2 caracteres."),o())}function ye(t,i){if(t&1&&f(0,we,2,0,"span",23)(1,Ee,2,0,"span",23),t&2){c(2);let r=h(15);m("ngIf",r.errors==null?null:r.errors.required),n(),m("ngIf",r.errors==null?null:r.errors.minlength)}}function Ce(t,i){if(t&1&&(a(0,"div",35),f(1,ve,2,1,"span",36)(2,ye,2,2,"ng-template",null,5,k),o()),t&2){let r=h(3),e=c();n(),m("ngIf",e.formErrors==null?null:e.formErrors.apellido)("ngIfElse",r)}}function Se(t,i){t&1&&(a(0,"span",37),d(1," \u23F3 "),o())}function xe(t,i){if(t&1&&(a(0,"div",38),d(1),o()),t&2){let r=c();n(),b(" \u2713 ",r.emailCheckMessage," ")}}function Ie(t,i){if(t&1&&(a(0,"span"),d(1),o()),t&2){let r=c(2);n(),R(r.formErrors.email)}}function Te(t,i){t&1&&(a(0,"span"),d(1,"Ingresa tu email."),o())}function Me(t,i){t&1&&(a(0,"span"),d(1,"Formato de email inv\xE1lido."),o())}function Re(t,i){if(t&1&&(a(0,"span"),d(1),o()),t&2){let r=c(3);n(),R(r.emailCheckMessage)}}function Pe(t,i){if(t&1&&f(0,Te,2,0,"span",23)(1,Me,2,0,"span",23)(2,Re,2,1,"span",23),t&2){let r=c(2),e=h(20);m("ngIf",e.errors==null?null:e.errors.required),n(),m("ngIf",e.errors==null?null:e.errors.email),n(),m("ngIf",r.emailCheckMessage&&!r.emailIsValid)}}function ke(t,i){if(t&1&&(a(0,"div",35),f(1,Ie,2,1,"span",36)(2,Pe,3,3,"ng-template",null,6,k),o()),t&2){let r=h(3),e=c();n(),m("ngIf",e.formErrors==null?null:e.formErrors.email)("ngIfElse",r)}}function Ve(t,i){if(t&1&&(a(0,"div",35),d(1),o()),t&2){let r=c();n(),b(" ",(r.formErrors==null?null:r.formErrors.password)||r.firstPasswordError()," ")}}function Ne(t,i){if(t&1&&(A(0),a(1,"div",39)(2,"div",40)(3,"span",41),d(4),o(),a(5,"span",42),d(6),o()(),a(7,"div",43),M(8,"div",44),o()(),a(9,"ul",45)(10,"li",46),d(11,"May\xFAscula (A-Z)"),o(),a(12,"li",46),d(13,"Min\xFAscula (a-z)"),o(),a(14,"li",46),d(15,"N\xFAmero (0-9)"),o(),a(16,"li",46),d(17,"S\xEDmbolo (p. ej. !@#$%)"),o(),a(18,"li",46),d(19),o(),a(20,"li",46),d(21,"Sin espacios"),o(),a(22,"li",46),d(23,"No contiene tu nombre/apellido/usuario email"),o()(),F()),t&2){let r=c();n(),m("ngClass",r.strengthClass()),n(3),b("Fuerza: ",r.strengthLabel()),n(2),b("M\xEDnimo ",r.MIN_PASSWORD_LEN," carac."),n(2),j("width",r.passwordScorePercent(),"%"),n(2),v("ok",r.hasUpper()),n(2),v("ok",r.hasLower()),n(2),v("ok",r.hasDigit()),n(2),v("ok",r.hasSpecial()),n(2),v("ok",r.hasMinLen()),n(),b("M\xEDnimo ",r.MIN_PASSWORD_LEN," caracteres"),n(),v("ok",r.hasNoSpaces()),n(2),v("ok",r.noPersonalData())}}function De(t,i){if(t&1&&(a(0,"div",35),d(1),o()),t&2){let r=c();n(),b(" ",(r.formErrors==null?null:r.formErrors.confirmPassword)||"Las contrase\xF1as no coinciden."," ")}}function Le(t,i){if(t&1&&(a(0,"div",35),d(1),o()),t&2){let r=c();n(),b(" ",(r.formErrors==null?null:r.formErrors.rol)||"Selecciona un tipo de usuario."," ")}}var le=class t{constructor(i,r,e,s){this.router=i;this.http=r;this.renderer=e;this.doc=s}nombre="";apellido="";email="";password="";confirmPassword="";rol="";MIN_PASSWORD_LEN=10;SPECIALS_RE=/[!@#$%^&*()\-\_=+\[\]{};:,.<>/?\\|`~"']/;googleSignInBtn;submitted=!1;passwordTouched=!1;confirmTouched=!1;roleTouched=!1;isCheckingEmail=!1;emailCheckMessage="";emailIsValid=!1;emailIsAvailable=!1;formErrors={nombre:"",apellido:"",email:"",password:"",confirmPassword:"",rol:"",general:""};ngOnInit(){this.renderer.addClass(this.doc.body,"register-page"),console.log("[Register] componente activo")}ngOnDestroy(){this.renderer.removeClass(this.doc.body,"register-page")}ngAfterViewInit(){let i=()=>{google?.accounts.id.initialize({client_id:_.googleClientId,callback:r=>this.onGoogleCredential(r),ux_mode:"popup"}),google?.accounts.id.renderButton(this.googleSignInBtn.nativeElement,{type:"standard",theme:"outline",size:"large",text:"continue_with",shape:"pill",width:320})};window.google?i():window.onGoogleLibraryLoad=i}scrollToFirstError(i=!1){let r=document.querySelector(".field.invalid .control");if(r){r.focus({preventScroll:!1}),r.scrollIntoView({behavior:"smooth",block:"center"});return}i&&window.scrollTo({top:0,behavior:"smooth"})}onGoogleCredential(i){this.clearErrors();let r=i?.credential;if(!r){this.formErrors.general="No se recibi\xF3 credencial de Google.";return}let e=this.rol;if(!e||e!=="alumno"&&e!=="entrenador"){this.formErrors.rol='Selecciona "alumno" o "entrenador" antes de continuar con Google.',this.roleTouched=!0,this.scrollToFirstError();return}this.http.post(`${_.apiBase}${_.endpoints.googleSignin}`,{credential:r,rol:e}).subscribe({next:()=>this.router.navigate(["/login"]),error:s=>this.handleBackendErrors(s)})}checkEmail(){if(!this.email||this.email.trim()===""){this.emailIsValid=!1,this.emailIsAvailable=!1,this.emailCheckMessage="";return}this.isCheckingEmail=!0,this.emailCheckMessage="",this.http.post(`${_.apiBase}${_.endpoints.checkEmail}`,{email:this.email.trim().toLowerCase()}).subscribe({next:i=>{this.isCheckingEmail=!1,this.emailIsValid=i.is_valid,this.emailIsAvailable=i.is_available,i.is_valid&&i.is_available?(this.emailCheckMessage="\u2713 Email v\xE1lido y disponible",this.formErrors.email=""):i.is_valid?i.is_available||(this.emailCheckMessage=i.message||"Email ya registrado",this.formErrors.email=i.message||"Email ya registrado"):(this.emailCheckMessage=i.message||"Email inv\xE1lido",this.formErrors.email=i.message||"Email inv\xE1lido")},error:i=>{this.isCheckingEmail=!1,this.emailIsValid=!1,this.emailIsAvailable=!1;let r=i?.error?.detail||"Error al validar email";this.emailCheckMessage=r,this.formErrors.email=r}})}emailUser(){return(this.email||"").split("@")[0]?.toLowerCase()||""}lower(i){return(i||"").toLowerCase()}hasUpper(){return/[A-Z]/.test(this.password)}hasLower(){return/[a-z]/.test(this.password)}hasDigit(){return/\d/.test(this.password)}hasSpecial(){return this.SPECIALS_RE.test(this.password)}hasMinLen(){return(this.password||"").length>=this.MIN_PASSWORD_LEN}hasNoSpaces(){return!/\s/.test(this.password||"")}noPersonalData(){let i=this.lower(this.password);return![this.lower(this.nombre),this.lower(this.apellido),this.emailUser()].filter(Boolean).map(e=>e.trim()).filter(e=>e.length>=3).some(e=>i.includes(e))}passwordPassedCount(){return[this.hasUpper(),this.hasLower(),this.hasDigit(),this.hasSpecial(),this.hasMinLen(),this.hasNoSpaces(),this.noPersonalData()].filter(Boolean).length}passwordScorePercent(){return Math.round(this.passwordPassedCount()/7*100)}strengthLabel(){let i=this.passwordScorePercent();return i>=85?"Muy fuerte":i>=60?"Fuerte":i>=35?"Media":"D\xE9bil"}strengthClass(){let i=this.passwordScorePercent();return i>=85?"great":i>=60?"good":i>=35?"fair":"weak"}isPasswordValid(){return this.hasUpper()&&this.hasLower()&&this.hasDigit()&&this.hasSpecial()&&this.hasMinLen()&&this.hasNoSpaces()&&this.noPersonalData()}firstPasswordError(){return this.hasMinLen()?this.hasUpper()?this.hasLower()?this.hasDigit()?this.hasSpecial()?this.hasNoSpaces()?this.noPersonalData()?null:"No debe contener tu nombre, apellido o usuario del email.":"No puede contener espacios.":"Debe incluir al menos un s\xEDmbolo.":"Debe incluir al menos un n\xFAmero.":"Debe incluir al menos una letra min\xFAscula.":"Debe incluir al menos una letra MAY\xDASCULA.":`La contrase\xF1a debe tener al menos ${this.MIN_PASSWORD_LEN} caracteres.`}clearErrors(){this.formErrors={nombre:"",apellido:"",email:"",password:"",confirmPassword:"",rol:"",general:""}}translatePydanticMsg(i){if(!i)return"Dato inv\xE1lido.";let r=i.match(/at least\s+(\d+)\s+characters/i);if(r)return`Debe tener al menos ${r[1]} caracteres.`;let e=i.match(/at most\s+(\d+)\s+characters/i);return e?`No debe exceder ${e[1]} caracteres.`:/field required/i.test(i)?"Campo requerido.":/valid email/i.test(i)?"Email inv\xE1lido.":i}mapDetailToFieldName(i){let r=Array.isArray(i)?i:[],e=(r[r.length-1]||"").toString().toLowerCase();return["nombre","nombres"].includes(e)?"nombre":["apellido","apellidos"].includes(e)?"apellido":e==="email"?"email":e==="password"?"password":["rol","usertype"].includes(e)?"rol":"general"}handleBackendErrors(i){if(this.clearErrors(),i?.status===0){this.formErrors.general="No se pudo conectar al servidor.",this.scrollToFirstError(!0);return}if(i?.status===409&&i?.error?.needs_verification){console.warn("[Register] Usuario existe pero NO verificado \u2192 Enviando a verify-email"),sessionStorage.setItem("registerEmail",this.email.trim().toLowerCase()),alert("Este email ya estaba registrado pero no hab\xEDa sido verificado. Se reenvi\xF3 el c\xF3digo de verificaci\xF3n."),this.router.navigate(["/verify-email"]);return}if(i?.status===409){this.formErrors.email=i?.error?.detail||"El email ya est\xE1 registrado.",this.scrollToFirstError();return}if(i?.status===422){let e=i?.error?.detail;if(Array.isArray(e))for(let s of e){let p=this.mapDetailToFieldName(s?.loc),l=this.translatePydanticMsg(s?.msg||s?.detail||"");this.formErrors[p]||(this.formErrors[p]=l)}this.passwordTouched=!0,this.confirmTouched=!0,this.roleTouched=!0,this.scrollToFirstError();return}let r=i?.error?.detail||i?.error?.mensaje||i?.message||"Ocurri\xF3 un error.";this.formErrors.general=r,this.scrollToFirstError(!0)}register(){this.submitted=!0,this.clearErrors();let i=this.nombre?.trim(),r=this.apellido?.trim(),e=this.email?.trim().toLowerCase(),s=this.password,p=this.rol;if(i||(this.formErrors.nombre="Ingresa tu nombre."),r||(this.formErrors.apellido="Ingresa tus apellidos."),e||(this.formErrors.email="Ingresa tu email."),p||(this.formErrors.rol="Selecciona un tipo de usuario."),(!this.emailIsValid||!this.emailIsAvailable)&&(this.formErrors.email=this.formErrors.email||"Por favor, verifica primero que el email sea v\xE1lido."),s!==this.confirmPassword&&(this.formErrors.confirmPassword="Las contrase\xF1as no coinciden."),this.isPasswordValid()||(this.formErrors.password=this.firstPasswordError()||"Contrase\xF1a inv\xE1lida."),Object.values(this.formErrors).some(w=>!!w)){this.passwordTouched=!0,this.confirmTouched=!0,this.roleTouched=!0,this.scrollToFirstError();return}let V=`${_.apiBase}${_.endpoints.register}`,de={nombre:i,apellido:r,email:e,password:s,rol:p},me={nombres:i,apellidos:r,email:e,password:s,rol:p};this.http.post(V,de).subscribe({next:()=>{this.sendEmailVerification(e,i)},error:w=>{if(w?.status===409&&w?.error?.needs_verification){console.warn("[Register] Email existente NO verificado \u2192 reenviando correo"),this.sendEmailVerification(e,i),sessionStorage.setItem("registerEmail",e),alert("El email ya estaba registrado pero no verificado. Se envi\xF3 un nuevo c\xF3digo."),this.router.navigate(["/verify-email"]);return}let P=(w?.error?.detail||"").toString().toLowerCase();[400,422,500].includes(w?.status)&&(P.includes("faltan")||P.includes("obligatori")||P.includes("rol")||P.includes("nombre"))?this.http.post(V,me).subscribe({next:()=>this.sendEmailVerification(e,i),error:pe=>this.handleBackendErrors(pe)}):this.handleBackendErrors(w)}})}sendEmailVerification(i,r){sessionStorage.setItem("registerEmail",i),this.http.post(`${_.apiBase}${_.endpoints.sendVerification}`,{email:i,nombre:r}).subscribe({next:()=>{alert(`\u2713 Se envi\xF3 un email de verificaci\xF3n a ${i}
Por favor, revisa tu bandeja de entrada.`),this.router.navigate(["/verify-email"])},error:e=>{console.warn("[Register] Error enviando email de verificaci\xF3n:",e);let s=e?.error?.detail||"Error al enviar email de verificaci\xF3n";this.formErrors.general=`Usuario registrado, pero hubo un problema al enviar el email: ${s}. Puedes intentar reenviar desde la p\xE1gina de verificaci\xF3n.`,alert(this.formErrors.general),this.router.navigate(["/verify-email"])}})}static \u0275fac=function(r){return new(r||t)(T(Y),T(H),T(D),T(N))};static \u0275cmp=L({type:t,selectors:[["app-register"]],viewQuery:function(r,e){if(r&1&&W(ce,5),r&2){let s;z(s=O())&&(e.googleSignInBtn=s.first)}},decls:49,vars:41,consts:[["nombreCtrl","ngModel"],["apellidoCtrl","ngModel"],["emailCtrl","ngModel"],["googleSignInBtn",""],["nombreAuto",""],["apellidoAuto",""],["emailAuto",""],[1,"register-container"],[1,"register-banner"],[1,"banner-overlay"],["src","assets/gym-banner_page.jpg","alt","Banner",1,"banner-img"],[1,"register-form-section"],[1,"register-title"],["novalidate","",1,"register-form",3,"ngSubmit"],["class","error-msg",4,"ngIf"],[1,"field",3,"ngClass"],["type","text","name","nombre","placeholder","Nombres","required","","minlength","2","autocomplete","given-name",1,"control",3,"ngModelChange","ngModel"],["type","text","name","apellido","placeholder","Apellidos","required","","minlength","2","autocomplete","family-name",1,"control",3,"ngModelChange","ngModel"],[1,"email-input-wrapper"],["type","email","name","email","placeholder","E-Mail","required","","email","","autocomplete","email",1,"control",3,"ngModelChange","blur","change","ngModel"],["class","email-validating",4,"ngIf"],["class","email-check-success",4,"ngIf"],["type","password","name","password","placeholder","Contrase\xF1a","autocomplete","new-password","required","","aria-describedby","password-help",1,"control",3,"ngModelChange","input","blur","ngModel"],[4,"ngIf"],["type","password","name","confirmPassword","placeholder","Confirmar contrase\xF1a","required","","autocomplete","new-password",1,"control",3,"ngModelChange","input","blur","ngModel"],["name","rol","required","",1,"control",3,"ngModelChange","blur","change","ngModel"],["value","","disabled",""],["value","alumno"],["value","entrenador"],[1,"divider-form"],[1,"login-google-label"],[1,"google-wrap"],["id","googleSignInBtn"],[1,"form-actions"],["type","submit",1,"continue-btn",3,"disabled"],[1,"error-msg"],[4,"ngIf","ngIfElse"],[1,"email-validating"],[1,"email-check-success"],[1,"strength",3,"ngClass"],[1,"strength-top"],["id","password-help",1,"strength-label"],[1,"strength-min"],[1,"meter"],[1,"meter-bar"],[1,"policy-list"],[1,"policy-item"]],template:function(r,e){if(r&1){let s=B();a(0,"div",7)(1,"div",8),M(2,"div",9)(3,"img",10),o(),a(4,"div",11)(5,"h2",12),d(6,"Registro de usuario"),o(),a(7,"form",13),x("ngSubmit",function(){return u(s),g(e.register())}),f(8,ue,2,1,"div",14),a(9,"div",15)(10,"input",16,0),C("ngModelChange",function(l){return u(s),y(e.nombre,l)||(e.nombre=l),g(l)}),o(),f(12,be,4,2,"div",14),o(),a(13,"div",15)(14,"input",17,1),C("ngModelChange",function(l){return u(s),y(e.apellido,l)||(e.apellido=l),g(l)}),o(),f(16,Ce,4,2,"div",14),o(),a(17,"div",15)(18,"div",18)(19,"input",19,2),C("ngModelChange",function(l){return u(s),y(e.email,l)||(e.email=l),g(l)}),x("blur",function(){return u(s),g(e.checkEmail())})("change",function(){return u(s),g(e.checkEmail())}),o(),f(21,Se,2,0,"span",20),o(),f(22,xe,2,1,"div",21)(23,ke,4,2,"div",14),o(),a(24,"div",15)(25,"input",22),C("ngModelChange",function(l){return u(s),y(e.password,l)||(e.password=l),g(l)}),x("input",function(){return u(s),g(e.passwordTouched=!0)})("blur",function(){return u(s),g(e.passwordTouched=!0)}),o(),f(26,Ve,2,1,"div",14)(27,Ne,24,20,"ng-container",23),o(),a(28,"div",15)(29,"input",24),C("ngModelChange",function(l){return u(s),y(e.confirmPassword,l)||(e.confirmPassword=l),g(l)}),x("input",function(){return u(s),g(e.confirmTouched=!0)})("blur",function(){return u(s),g(e.confirmTouched=!0)}),o(),f(30,De,2,1,"div",14),o(),a(31,"div",15)(32,"select",25),C("ngModelChange",function(l){return u(s),y(e.rol,l)||(e.rol=l),g(l)}),x("blur",function(){return u(s),g(e.roleTouched=!0)})("change",function(){return u(s),g(e.roleTouched=!0)}),a(33,"option",26),d(34,"Tipo de usuario"),o(),a(35,"option",27),d(36,"Alumno"),o(),a(37,"option",28),d(38,"Entrenador"),o()(),f(39,Le,2,1,"div",14),o(),M(40,"div",29),a(41,"span",30),d(42,"Inicia sesi\xF3n con"),o(),a(43,"div",31),M(44,"div",32,3),o(),a(46,"div",33)(47,"button",34),d(48," Continuar "),o()()()()()}if(r&2){let s=h(11),p=h(15),l=h(20);n(8),m("ngIf",e.formErrors==null?null:e.formErrors.general),n(),m("ngClass",S(23,I,s.invalid&&(s.touched||e.submitted)||(e.formErrors==null?null:e.formErrors.nombre),s.valid&&(s.touched||e.submitted))),n(),E("ngModel",e.nombre),n(2),m("ngIf",s.invalid&&(s.touched||e.submitted)||(e.formErrors==null?null:e.formErrors.nombre)),n(),m("ngClass",S(26,I,p.invalid&&(p.touched||e.submitted)||(e.formErrors==null?null:e.formErrors.apellido),p.valid&&(p.touched||e.submitted))),n(),E("ngModel",e.apellido),n(2),m("ngIf",p.invalid&&(p.touched||e.submitted)||(e.formErrors==null?null:e.formErrors.apellido)),n(),m("ngClass",S(29,I,l.invalid&&(l.touched||e.submitted)||(e.formErrors==null?null:e.formErrors.email)||!e.emailIsAvailable&&l.touched,l.valid&&e.emailIsValid&&e.emailIsAvailable&&(l.touched||e.submitted))),n(2),E("ngModel",e.email),n(2),m("ngIf",e.isCheckingEmail),n(),m("ngIf",e.emailIsValid&&e.emailIsAvailable&&!e.isCheckingEmail&&e.email),n(),m("ngIf",l.invalid&&(l.touched||e.submitted)||(e.formErrors==null?null:e.formErrors.email)||!e.emailIsAvailable&&l.touched),n(),m("ngClass",S(32,I,(e.passwordTouched||e.submitted)&&!e.isPasswordValid()||(e.formErrors==null?null:e.formErrors.password),e.isPasswordValid()&&(e.passwordTouched||e.submitted))),n(),E("ngModel",e.password),n(),m("ngIf",(e.passwordTouched||e.submitted)&&!e.isPasswordValid()||(e.formErrors==null?null:e.formErrors.password)),n(),m("ngIf",(e.passwordTouched||e.submitted)&&e.password&&!e.isPasswordValid()),n(),m("ngClass",S(35,I,(e.confirmTouched||e.submitted)&&e.password!==e.confirmPassword||(e.formErrors==null?null:e.formErrors.confirmPassword),e.confirmPassword&&e.password===e.confirmPassword&&(e.confirmTouched||e.submitted))),n(),E("ngModel",e.confirmPassword),n(),m("ngIf",(e.confirmTouched||e.submitted)&&e.password!==e.confirmPassword||(e.formErrors==null?null:e.formErrors.confirmPassword)),n(),m("ngClass",S(38,I,(e.roleTouched||e.submitted)&&!e.rol||(e.formErrors==null?null:e.formErrors.rol),!!e.rol&&(e.roleTouched||e.submitted))),n(),E("ngModel",e.rol),n(7),m("ngIf",(e.roleTouched||e.submitted)&&!e.rol||(e.formErrors==null?null:e.formErrors.rol)),n(8),m("disabled",!e.nombre||!e.apellido||!e.email||!e.emailIsValid||!e.emailIsAvailable||!e.rol||!e.isPasswordValid()||e.password!==e.confirmPassword)}},dependencies:[G,q,U,se,ee,re,te,$,ie,Z,J,ne,ae,oe,X,K,Q],styles:[`:root{--header-h: 0px}.register-container{display:grid;grid-template-columns:minmax(0,1fr) 560px;height:100vh;width:100%;overflow:hidden;background:#181818;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial,sans-serif;align-items:stretch}@media (min-width: 1440px){.register-container{grid-template-columns:minmax(0,1fr) 620px}}@media (min-width: 1680px){.register-container{grid-template-columns:minmax(0,1fr) 680px}}.register-banner{position:relative;overflow:hidden;height:100%}.banner-img{width:100%;height:100%;display:block;object-fit:cover;object-position:35% center;filter:brightness(.6)}.banner-overlay{position:absolute;inset:0;background:#0000008c;z-index:1}.register-form-section{background:#232323;display:flex;flex-direction:column;justify-content:flex-start;padding:40px 28px;box-shadow:-12px 0 28px #00000059;height:100%;overflow-y:auto;scroll-behavior:smooth}.register-title{color:#fff;font-size:28px;font-weight:800;margin:0 0 18px;text-align:center}.register-form{width:100%;max-width:520px;margin:0 auto;display:flex;flex-direction:column;gap:1rem;background:#1c1f24;border:1px solid #2a2f37;border-radius:14px;padding:20px 16px;box-shadow:none;flex-grow:1;overflow:visible;position:relative}@media (min-width: 1440px){.register-form{max-width:560px}}.field{display:flex;flex-direction:column;gap:.4rem}.email-input-wrapper{position:relative;display:flex;align-items:center}.email-input-wrapper .control{flex:1}.email-validating{position:absolute;right:12px;font-size:1.2rem;animation:spin 1.5s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.email-check-success{margin-top:.4rem;padding:.5rem .7rem;border-radius:6px;background:#2ecc7114;border-left:3px solid #2ecc71;color:#7ee787;font-size:.95rem;font-weight:500;animation:slideDown .3s ease}@keyframes slideDown{0%{opacity:0;transform:translateY(-6px)}to{opacity:1;transform:translateY(0)}}.control{background:#181a1f;border:1px solid #3b414b;color:#fff;padding:.8rem 1rem;border-radius:10px;font-size:1rem;outline:0;transition:border-color .15s,box-shadow .15s}.control:focus{border-color:#4d90fe;box-shadow:0 0 0 3px #4d90fe2e}.field.valid .control{border-color:#2ecc71;box-shadow:0 0 0 3px #2ecc711a}.field.invalid .control{border-color:#e74c3c;box-shadow:0 0 0 3px #e74c3c1a}.error-msg{margin-top:.4rem;background:#e74c3c14;border-left:3px solid #e74c3c;padding:.5rem .7rem;border-radius:6px;color:#ffb4b4;font-size:.95rem;line-height:1.4}.continue-btn{background:#4d90fe;color:#fff;border:none;border-radius:10px;padding:.7rem 1rem;font-size:.95rem;font-weight:700;letter-spacing:.2px;cursor:pointer;transition:background .2s,transform .06s;width:100%;max-width:340px;display:block;margin:.8rem auto 0;box-shadow:none}.continue-btn:hover:not(:disabled){background:#357ae8}.continue-btn:active:not(:disabled){transform:translateY(1px)}.continue-btn:disabled{opacity:.6;cursor:not-allowed;background:#4d90fe}.login-google-label{color:#aaa;text-align:center;font-size:.95rem;display:block;margin-bottom:.45rem}.google-wrap{display:flex;justify-content:center;width:100%;margin-bottom:1.4rem;position:relative;z-index:10}#googleSignInBtn{width:100%;max-width:340px;min-height:42px;transition:opacity .2s ease}.divider-form{height:1px;background:#303641;margin:.4rem 0 .9rem}.form-actions{position:sticky;bottom:0;z-index:5;padding:12px 0;background:#1c1f24;display:flex;justify-content:center;border-top:1px solid #2a2f37}.strength{margin-top:.8rem;border-radius:10px;background:#1e2126cc;padding:.9rem 1rem;border:1px solid #2f363d;box-shadow:0 4px 12px #0003}.strength-top{display:flex;justify-content:space-between;align-items:center;font-size:.92rem;color:#c9d1d9;margin-bottom:.5rem;font-weight:500}.strength-label{color:#fff;font-weight:600}.strength-min{color:#999;font-size:.85rem}.meter{height:8px;background:#2a2f37;border-radius:6px;overflow:hidden;margin-bottom:.6rem}.meter-bar{height:100%;width:0%;transition:width .3s ease}.strength.weak .meter-bar{background:#e74c3c}.strength.fair .meter-bar{background:#f39c12}.strength.good .meter-bar{background:#2ecc71}.strength.great .meter-bar{background:#00d2d3}.policy-list{list-style:none;margin:.5rem 0 0;padding-left:1rem;display:flex;flex-direction:column;gap:.35rem}.policy-item{position:relative;color:#aab3c5;font-size:.93rem;padding-left:1.3rem;transition:color .2s ease}.policy-item:before{content:"\\2022";position:absolute;left:0;top:0;color:#666;font-weight:700}.policy-item.ok{color:#7ee787;font-weight:600}.policy-item.ok:before{content:"\\2713";color:#2ecc71}@media (max-width: 1024px){.register-container{grid-template-columns:1fr;height:auto}.register-banner{display:none}.register-form-section{padding:24px 16px;box-shadow:none;height:auto;overflow-y:auto}.register-form{max-width:480px}}html,body{height:100%;margin:0;padding:0;overflow:hidden}
`],encapsulation:2})};export{le as RegisterComponent};
