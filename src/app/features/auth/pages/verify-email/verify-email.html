<div class="verify-email-container">
  <!-- Columna izquierda: Decoraci√≥n -->
  <div class="verify-banner">
    <div class="banner-overlay"></div>
    <div class="banner-content">
      <div class="check-icon">‚úì</div>
      <h3>Verificaci√≥n de Email</h3>
    </div>
  </div>

  <!-- Columna derecha: Formulario -->
  <div class="verify-form-section">
    <!-- Mensaje de √©xito con animaci√≥n -->
    <div class="success-message" *ngIf="showSuccessAnimation">
      {{ successMessage }}
    </div>

    <!-- T√≠tulo -->
    <h2 class="verify-title">Verifica tu Email</h2>
    
    <!-- Subt√≠tulo -->
    <p class="verify-subtitle">
      Hemos enviado un c√≥digo a tu email. Ingresa el c√≥digo a continuaci√≥n para completar tu registro.
    </p>

    <!-- Formulario -->
    <form class="verify-form" (ngSubmit)="verifyCode()" novalidate>
      <!-- Error general -->
      <div class="error-msg general-error" *ngIf="formErrors?.general">
        {{ formErrors.general }}
      </div>

      <!-- Mensaje de √©xito (reenv√≠o) -->
      <div class="success-msg" *ngIf="successMessage && !showSuccessAnimation">
        {{ successMessage }}
      </div>

      <!-- C√ìDIGO DE VERIFICACI√ìN -->
      <div class="field" [ngClass]="{'invalid': (submitted && !verificationCode) || formErrors?.code, 'valid': (verificationCode && (submitted || false))}">
        <label class="label">C√≥digo de Verificaci√≥n</label>
        <div class="code-input-wrapper">
          <input class="control code-input"
                 type="text"
                 name="verificationCode"
                 [(ngModel)]="verificationCode"
                 placeholder="Ingresa el c√≥digo recibido"
                 required
                 maxlength="32"
                 [disabled]="isVerifying" />
          
          <!-- Spinner de verificaci√≥n -->
          <span class="verifying-spinner" *ngIf="isVerifying">
            ‚è≥
          </span>
        </div>
        
        <!-- Mensaje de error -->
        <div class="error-msg" *ngIf="(submitted && !verificationCode) || formErrors?.code">
          {{ formErrors?.code || 'Ingresa el c√≥digo de verificaci√≥n.' }}
        </div>
      </div>

      <!-- Informaci√≥n de ayuda -->
      <div class="help-text">
        <p>üìß Revisa tu bandeja de entrada o spam para encontrar el email con el c√≥digo.</p>
        <p>El c√≥digo expira en 24 horas.</p>
      </div>

      <!-- Botones -->
      <div class="form-actions">
        <button type="submit"
                class="verify-btn"
                [disabled]="!verificationCode || isVerifying">
          {{ isVerifying ? 'Verificando...' : 'Verificar Email' }}
        </button>
      </div>

      <!-- Divider -->
      <div class="divider"></div>

      <!-- Reenviar c√≥digo -->
      <div class="resend-section">
        <p class="resend-label">¬øNo recibiste el c√≥digo?</p>
        
        <button type="button"
                class="resend-btn"
                (click)="resendCode()"
                [disabled]="!canResend || isVerifying">
          <span *ngIf="canResend">Reenviar C√≥digo</span>
          <span *ngIf="!canResend">Reenviar en {{ resendCountdown }}s</span>
        </button>
      </div>

      <!-- Volver al registro -->
      <div class="back-section">
        <button type="button"
                class="back-btn"
                (click)="goBackToRegister()">
          Volver al Registro
        </button>
      </div>
    </form>
  </div>
</div>