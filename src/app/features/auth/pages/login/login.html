<div class="login-container">
  <!-- Banner Izquierdo -->
  <div class="login-banner">
    <img src="assets/gym-banner_page.jpg" alt="Banner" class="banner-img" />
    <div class="banner-overlay"></div>
  </div>

  <!-- Formulario Derecho -->
  <div class="login-form-section">
    <h2 class="login-title">Login de usuario</h2>

    <!-- Mensaje de error general -->
    <div *ngIf="generalError" class="alert alert-error">
      <span class="alert-icon">⚠️</span>
      <span class="alert-message">{{ generalError }}</span>
    </div>

    <form [formGroup]="loginForm" class="login-form" (ngSubmit)="login()">
      <!-- Campo Email -->
      <div class="form-group">
        <input
          type="email"
          placeholder="E-Mail"
          formControlName="email"
          (blur)="validateEmail()"
          (input)="validateEmail()"
          [class.input-error]="emailError"
          [class.input-valid]="emailControl?.valid && emailControl?.touched && !emailError"
          class="control"
          autocomplete="email"
        />
        <div *ngIf="emailError" class="error-message">
          <span class="error-icon">✗</span> {{ emailError }}
        </div>
      </div>

      <!-- Campo Contraseña -->
      <div class="form-group">
        <input
          type="password"
          placeholder="Contraseña"
          formControlName="password"
          (blur)="validatePassword()"
          (input)="validatePassword()"
          [class.input-error]="passwordError"
          [class.input-valid]="passwordControl?.valid && passwordControl?.touched && !passwordError"
          class="control"
          autocomplete="current-password"
        />
        <div *ngIf="passwordError" class="error-message">
          <span class="error-icon">✗</span> {{ passwordError }}
        </div>
      </div>

      <!-- Botón Continuar -->
      <button 
        type="submit" 
        class="continue-btn"
        [disabled]="isLoading"
        [class.loading]="isLoading"
      >
        <span *ngIf="!isLoading">Continuar</span>
        <span *ngIf="isLoading">Validando...</span>
      </button>
    </form>

    <!-- Separador -->
    <div class="divider-form"></div>
    <span class="login-google-label">Inicia sesión con</span>

    <!-- Botón oficial de Google -->
    <div class="google-wrap">
      <div #googleSignInBtn id="googleSignInBtn"></div>
    </div>

    <!-- Loading indicator para Google -->
    <div *ngIf="!googleReady" class="google-loading">
      <span>⏳ Cargando Google Sign-In...</span>
    </div>

    <!-- Enlace a registro -->
    <div class="register-link">
      ¿No tienes cuenta? <a (click)="goToRegister()">Regístrate aquí</a>
    </div>
  </div>
</div>