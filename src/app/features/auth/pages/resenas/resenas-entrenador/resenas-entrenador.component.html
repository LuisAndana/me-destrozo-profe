<!-- src/app/features/auth/pages/resenas/resenas-entrenador/resenas-entrenador.component.html -->
<!-- Con control de acceso: Clientes pueden calificar, Entrenadores solo ven sus reseÃ±as -->

<div class="resenas-entrenador-container">
  <!-- âœ… SECCIÃ“N PARA CLIENTES: BotÃ³n para calificar -->
  <div *ngIf="mostrarSeccionCrear && puedeCalificar" class="accion-section">
    <button
      class="btn-accion"
      (click)="toggleFormulario()"
      [class.activo]="mostrarFormulario"
    >
      {{ textoBotonAccion }}
    </button>
  </div>

  <!-- âœ… SECCIÃ“N PARA CLIENTES: Formulario de crear/editar -->
  <div *ngIf="mostrarFormulario && mostrarSeccionCrear" class="formulario-section">
    <app-crear-editar-resena
      [idEntrenador]="idEntrenador"
      [nombreEntrenador]="nombreEntrenador"
      [resenaExistente]="miResena"
      (resenaGuardada)="onResenaGuardada($event)"
      (cancelado)="onCancelado()"
    ></app-crear-editar-resena>
  </div>

  <!-- âœ… SECCIÃ“N PARA CLIENTES Y ENTRENADORES: Lista de reseÃ±as -->
  <div *ngIf="mostrarSeccionResenas" class="resenas-section">
    <h2 class="seccion-titulo">{{ tituloSeccion }}</h2>
    <app-listar-resenas
      [idEntrenador]="idEntrenador"
      [limit]="10"
    ></app-listar-resenas>
  </div>

  <!-- âœ… MENSAJE PARA USUARIOS NO AUTORIZADOS -->
  <div *ngIf="!mostrarSeccionResenas" class="acceso-denegado">
    <div class="mensaje-icon">ðŸ”’</div>
    <p>No tienes acceso a esta secciÃ³n</p>
  </div>
</div>